SECTION .text

; Opcode handlers
extern __pccrt_nop_impl
extern __pccrt_push_impl
extern __pccrt_pop_impl
extern __pccrt_iadd_impl
extern __pccrt_ret_impl
; Runtime functions
extern __pccrt_preserve_state
extern __pccrt_restore_state

global func1

func1:
; Begin prologue of func1
    call __pccrt_preserve_state
    add rsp, 16
    mov r13, rsp
; Load parameters of func1
    push rdi
    push rsi
    mov [r13 + 0], rdx
    pextrq r14, xmm0, 0
    mov [r13 + 8], r14
    lea r12, [r13 + 0]
    push r12
; End prologue of func1
    mov rbx, __func1_body
    jmp [rbx]
__func1_body:
    dq __pccrt_pop_impl, 0
    dq __pccrt_push_impl, 1
    dq __pccrt_iadd_impl, 0
    dq __pccrt_iadd_impl, 0
    dq __pccrt_ret_impl, 0
    dq __func1_epilogue, 0
__func1_epilogue:
; Begin epilogue of func1
    sub rsp, 16
    jmp __pccrt_restore_state
; End of func1
