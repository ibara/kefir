SECTION .text

extern __kefirrt_nop_impl
extern __kefirrt_jmp_impl
extern __kefirrt_branch_impl
extern __kefirrt_push_impl
extern __kefirrt_pop_impl
extern __kefirrt_pick_impl
extern __kefirrt_drop_impl
extern __kefirrt_iadd_impl
extern __kefirrt_iadd1_impl
extern __kefirrt_isub_impl
extern __kefirrt_imul_impl
extern __kefirrt_idiv_impl
extern __kefirrt_imod_impl
extern __kefirrt_ineg_impl
extern __kefirrt_inot_impl
extern __kefirrt_iand_impl
extern __kefirrt_ior_impl
extern __kefirrt_ixor_impl
extern __kefirrt_ishr_impl
extern __kefirrt_ishl_impl
extern __kefirrt_cmp_impl
extern __kefirrt_band_impl
extern __kefirrt_bor_impl
extern __kefirrt_bnot_impl
extern __kefirrt_asbool_impl
extern __kefirrt_trunc_impl
extern __kefirrt_preserve_state
extern __kefirrt_restore_state

global func1

func1:
    call __kefirrt_preserve_state
    mov r13, rsp
    mov rbx, __func1_body
    jmp [rbx]
__func1_body:
    dq __kefirrt_nop_impl, 0
    dq __kefirrt_jmp_impl, __func1_body + 16
    dq __kefirrt_branch_impl, __func1_body + 32
    dq __func1_epilogue, 0
    dq __kefirrt_push_impl, 1000
    dq __kefirrt_pop_impl, 0
    dq __kefirrt_pick_impl, 1
    dq __kefirrt_drop_impl, 2
    dq __kefirrt_iadd_impl, 0
    dq __kefirrt_iadd1_impl, 1
    dq __kefirrt_isub_impl, 2
    dq __kefirrt_imul_impl, 3
    dq __kefirrt_idiv_impl, 4
    dq __kefirrt_imod_impl, 5
    dq __kefirrt_ineg_impl, 6
    dq __kefirrt_inot_impl, 7
    dq __kefirrt_iand_impl, 8
    dq __kefirrt_ior_impl, 9
    dq __kefirrt_ixor_impl, 10
    dq __kefirrt_ishr_impl, 11
    dq __kefirrt_ishl_impl, 12
    dq __kefirrt_cmp_impl, 13
    dq __kefirrt_band_impl, 14
    dq __kefirrt_bor_impl, 15
    dq __kefirrt_bnot_impl, 16
    dq __kefirrt_asbool_impl, 17
    dq __kefirrt_trunc_impl, 18
__func1_epilogue:
    mov rsp, r13
    jmp __kefirrt_restore_state